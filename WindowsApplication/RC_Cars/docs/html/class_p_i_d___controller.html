<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>RC_Cars: PID_Controller Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">RC_Cars
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="class_p_i_d___controller-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">PID_Controller Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A PID-Controller.  
 <a href="class_p_i_d___controller.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_p_i_d___controller_8h_source.html">PID_Controller.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a57f2efeaa31698c233456550b6f8bebd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_d___controller.html#a57f2efeaa31698c233456550b6f8bebd">PID_Controller</a> (double lowBoundary, double highBoundary)</td></tr>
<tr class="memdesc:a57f2efeaa31698c233456550b6f8bebd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <a href="#a57f2efeaa31698c233456550b6f8bebd">More...</a><br/></td></tr>
<tr class="separator:a57f2efeaa31698c233456550b6f8bebd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbd102cc4035ea81fcc1f9f826e45d2b"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_d___controller.html#afbd102cc4035ea81fcc1f9f826e45d2b">step</a> (double setPoint, double currentValue, double Kp, double Tn, double Tv, double dt)</td></tr>
<tr class="memdesc:afbd102cc4035ea81fcc1f9f826e45d2b"><td class="mdescLeft">&#160;</td><td class="mdescRight">returns the controller output value  <a href="#afbd102cc4035ea81fcc1f9f826e45d2b">More...</a><br/></td></tr>
<tr class="separator:afbd102cc4035ea81fcc1f9f826e45d2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:ae79b254760ec4a47f52eeedd5ecf5204"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae79b254760ec4a47f52eeedd5ecf5204"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_d___controller.html#ae79b254760ec4a47f52eeedd5ecf5204">lB</a></td></tr>
<tr class="memdesc:ae79b254760ec4a47f52eeedd5ecf5204"><td class="mdescLeft">&#160;</td><td class="mdescRight">low boundary of controller output <br/></td></tr>
<tr class="separator:ae79b254760ec4a47f52eeedd5ecf5204"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a001d9aa44939b846e91907022572a6ff"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a001d9aa44939b846e91907022572a6ff"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_d___controller.html#a001d9aa44939b846e91907022572a6ff">hB</a></td></tr>
<tr class="memdesc:a001d9aa44939b846e91907022572a6ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">high boundary of controller output <br/></td></tr>
<tr class="separator:a001d9aa44939b846e91907022572a6ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53b05d2b7f302b1c3b1c2d06d2b34cd1"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a53b05d2b7f302b1c3b1c2d06d2b34cd1"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_d___controller.html#a53b05d2b7f302b1c3b1c2d06d2b34cd1">e</a></td></tr>
<tr class="memdesc:a53b05d2b7f302b1c3b1c2d06d2b34cd1"><td class="mdescLeft">&#160;</td><td class="mdescRight">error <br/></td></tr>
<tr class="separator:a53b05d2b7f302b1c3b1c2d06d2b34cd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa257ed1607d1c482783b49dc5b741bcb"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa257ed1607d1c482783b49dc5b741bcb"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_d___controller.html#aa257ed1607d1c482783b49dc5b741bcb">eOld</a></td></tr>
<tr class="memdesc:aa257ed1607d1c482783b49dc5b741bcb"><td class="mdescLeft">&#160;</td><td class="mdescRight">previous step error <br/></td></tr>
<tr class="separator:aa257ed1607d1c482783b49dc5b741bcb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53f4ba174eb8c5f32c41793f4589e1eb"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a53f4ba174eb8c5f32c41793f4589e1eb"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_d___controller.html#a53f4ba174eb8c5f32c41793f4589e1eb">E</a></td></tr>
<tr class="memdesc:a53f4ba174eb8c5f32c41793f4589e1eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">accumulated error <br/></td></tr>
<tr class="separator:a53f4ba174eb8c5f32c41793f4589e1eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e73562e901fe446159304b77251556b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0e73562e901fe446159304b77251556b"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_d___controller.html#a0e73562e901fe446159304b77251556b">de</a></td></tr>
<tr class="memdesc:a0e73562e901fe446159304b77251556b"><td class="mdescLeft">&#160;</td><td class="mdescRight">derivative error <br/></td></tr>
<tr class="separator:a0e73562e901fe446159304b77251556b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0a89ff557deeff72ebd03c2126e13f3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af0a89ff557deeff72ebd03c2126e13f3"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_d___controller.html#af0a89ff557deeff72ebd03c2126e13f3">u</a></td></tr>
<tr class="memdesc:af0a89ff557deeff72ebd03c2126e13f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">controller output <br/></td></tr>
<tr class="separator:af0a89ff557deeff72ebd03c2126e13f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7bc20b166b651eea63a7ca398fea27b9"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7bc20b166b651eea63a7ca398fea27b9"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_d___controller.html#a7bc20b166b651eea63a7ca398fea27b9">overshoot</a></td></tr>
<tr class="memdesc:a7bc20b166b651eea63a7ca398fea27b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">true if output exceedes boundaries <br/></td></tr>
<tr class="separator:a7bc20b166b651eea63a7ca398fea27b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A PID-Controller. </p>
<p>This class provides a simple PID-Controller with anti-windup. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a57f2efeaa31698c233456550b6f8bebd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PID_Controller::PID_Controller </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>lowBoundary</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>highBoundary</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor. </p>
<p>After initialisation of an objekt from this class the vaules for low and high boundary (lB, hB) are set to the submitted parameters (lowBoundary, highBoundary). The variables eOld, E and overshoot are set to zero/false. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="afbd102cc4035ea81fcc1f9f826e45d2b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double PID_Controller::step </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>setPoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>currentValue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>Kp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>Tn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>Tv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>returns the controller output value </p>
<p>This function calculates and returns the output value of the controller. When called the parameters setPoint, currentValue, Kp (proportional gain), Tn (integral time), Tv (derivative time) and dt (elapsed time since last frame) need to be passed, bacause they might have changed since the last call of this funktion. First the error is calculated by the difference of currentValue and setPoint. In the case of not exceeding the output boundaries (overschoot is false) the accumulated error is increased/decreased, using the trapezoidal rule \(\Delta E=\frac{e+eOld}{2}dt\). The derivative error is calculated by \(\frac{e-eOld}{dt}\). The controller output value u ist computed in the additive way \(u=Kp*e+\frac{E}{Tn}+de*Tv\). Bevore the output value is returned the function checks for the case of an overshoot and prepairs the next call of the funktion by setting eOld to e. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>include/<a class="el" href="_p_i_d___controller_8h_source.html">PID_Controller.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Jun 20 2013 13:17:56 for RC_Cars by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.3.1
</small></address>
</body>
</html>
